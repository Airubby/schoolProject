(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31a0"],{2640:function(e,s,o){},"6eba":function(e,s,o){"use strict";var r=o("2640"),t=o.n(r);t.a},dd7b:function(e,s,o){"use strict";o.r(s);var r=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"loncom_login"},[o("div",{staticClass:"loncom_login_con loncom_public_shadow",class:{mlogin_con:e.devtype}},[o("div",{staticClass:"loncom_logo_img"}),o("div",{staticClass:"loncom_logo_text"},[e._v("元岗校区能效管理系统")]),o("div",{staticClass:"loncom_login_input"},[o("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"status-icon":""}},[o("el-form-item",{staticClass:"loncom_user",attrs:{prop:"userid"}},[o("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.user.userid,callback:function(s){e.$set(e.user,"userid","string"===typeof s?s.trim():s)},expression:"user.userid"}})],1),o("el-form-item",{staticClass:"loncom_pass",attrs:{prop:"psword"}},[o("el-input",{ref:"psinput",attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(s){e.keyLogin(s,"userName")}},model:{value:e.user.psword,callback:function(s){e.$set(e.user,"psword","string"===typeof s?s.trim():s)},expression:"user.psword"}})],1),o("el-button",{attrs:{type:"primary"},on:{click:function(s){e.loginIn()},keydown:function(s){e.keyLogin(s)}}},[e._v("登录")])],1)],1)])])},t=[],i=(o("cadf"),o("551c"),o("097d"),{created:function(){/Android|webOS|iPhone|iPad|BlackBerry/i.test(navigator.userAgent)?this.devtype=!0:this.devtype=!1},data:function(){var e=this,s=function(s,o,r){""===o?(e.user.psword="",e.$nextTick(function(){r(new Error("请输入密码"))})):r()};return{devtype:!1,user:{userid:"",psword:""},rules:{userid:[{required:!0,message:"请输入账号",trigger:"blur"}],psword:[{required:!0,trigger:"blur",validator:s}]}}},methods:{keyLogin:function(e){13==e.keyCode&&this.loginIn()},loginIn:function(){var e=this;this.$refs["form"].validate(function(s){s&&(e.user.psword=e.$tool.Encrypt(e.user.psword),console.log(e.user.psword),e.$api.post("/user/login",{obj:e.user},function(s){if(console.log(s),"0"==s.err_code){e.$message.success(s.err_msg),sessionStorage.loginInfo=JSON.stringify(s.data);var o=new Date,r=10;o.setTime(o.getTime()+24*r*3600*1e3),document.cookie=" userid="+e.user.userid+"; expires="+o.toGMTString(),e.$router.push({path:"/"})}else e.$refs.psinput.focus(),e.$message.error(s.err_msg)}))})}},watch:{}}),n=i,u=(o("6eba"),o("2877")),a=Object(u["a"])(n,r,t,!1,null,"079b0e54",null);a.options.__file="login.vue";s["default"]=a.exports}}]);